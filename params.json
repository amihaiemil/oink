{"name":"Oink-oss","tagline":"Pig as a RESTful Service","body":"#Oink\r\n\r\nThe aim of this project is to provide a REST based interface for PIG execution. Oink is Pig on Servlet which provides the following functionalities:\r\n\r\n* Register/unregister/view a Pig script\r\n* Register/unregister/view a jar file (for customer defined UDF functions)\r\n* Execute a Pig job\r\n* View the status/stats of a Pig job\r\n* Cancel a Pig job\r\n\r\nFor more information on the targetted use-case and REST documentation please refer to our [wiki](https://github.scm.corp.ebay.com/vija/Oink-OSS/wiki).\r\n\r\n## Usage\r\n\r\n### Requisites\r\n * Tomcat with JDK 7\r\n * Maven \r\n\r\n### Build\r\nThe following steps need to be followed in order to build the war file of the REST service:\r\n * Clone the project on GitHub\r\n * Do a maven build at the top level of the project using `mvn clean install`\r\n * The war file will be generated in service/target/pig.war\r\n\r\n### Running test cases\r\n * In order to run test cases use `mvn clean test`\r\n\r\n### Deployment\r\n * Shut down the tomcat if it is running using `bin/shutdown.sh`\r\n * Kill the process manually if the tomcat hasn't shutdown gracefully\r\n * Place the pig.war in the webapps directory of the Tomcat instance and remove the exploded directory of pig if it exists\r\n * Startup the tomcat using `bin/startup.sh`\r\n\r\n### Default Configuration\r\nDefault configuration is to use localhost as the Hadoop cluster. Following are configuration parameters available (under service/src/main/resources/default.properties file) which can be changed :\r\n\r\n```\r\njobtracker=localhost:8021 (Job tracker address)\r\njobtracker.ui=http://localhost:50030/jobdetails.jsp?jobid= (Job tracker UI URL used for providing stats information)\r\nfs.default.name=hdfs://localhost:8020 (Hadoop Namenode address)\r\nscripts.basepath=hdfs://localhost:8020/tmp/pig/scripts/ (Location in DFS where PIG scripts will be stored)\r\njars.basepath=hdfs://localhost:8020/tmp/pig/jars/ (Location in DFS where jar files will be stored)\r\nrequests.basepath=hdfs://localhost:8020/tmp/pig/requests/ (Location where request specific information will be stored)\r\nmax.threads=20 (size of thread pool for running PIG requests in parallel)\r\n```\r\n\r\nThe core-site.xml and mapred-site.xml files are bundled along with the property files to provide cluster specific parameters like \r\nnamenode address, jobtracker address in order to enable connecting to remote clusters. If the cluster is a secure cluster \r\nand uses authentication mechanisms like Kerberos then parameters like kerberos principal need to be provided in the \r\nmapred-site.xml and core-site.xml. Also, the queue to which jobs must be submitted also needs to provided in the \r\nmapred-site.xml\r\n\r\nDifferent kinds of property files can be created based on the environment in which the service is going to be hosted. \r\nFor example a prod.properties file can be created to house the settings for a production instance. To pick up the property\r\nfile the following steps should be followed during startup of the Tomcat instance. The environment variable `env` should \r\nbe set as the desired environment as follows:\r\n```\r\nexport env=prod\r\n```\r\n\r\nThis would make sure that prod.properties is picked up by the ConfigurationLoader at startup.\r\n\r\n### Project Structure\r\nThe directory structure of our project is explained in the [Project Structure](https://github.scm.corp.ebay.com/vija/Oink-OSS/wiki/Project-Structure) wiki\r\n\r\n## Known Issues and Feature Requests\r\nPlease use our [Issues](https://github.scm.corp.ebay.com/vija/Oink-OSS/issues) page to view the existing issues, to raise bugs and request for new features.\r\n\r\n## Contribution Guidelines\r\nEager to contribute? Steps to contribute to our project is available in our [Contribution Guidelines](https://github.scm.corp.ebay.com/vija/Oink-OSS/wiki/Contribution-Guidelines) wiki\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}